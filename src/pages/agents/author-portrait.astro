---
import { SITE } from "@config";
import Layout from "@layouts/Layout.astro";
import Header from "@components/Header.astro";
import Footer from "@components/Footer.astro";
import BraillePortrait from "@components/BraillePortrait";
---

<Layout title={`Author Portrait | ${SITE.title}`}>
  <Header />
  <main id="main-content" class="braille-page">
    <BraillePortrait client:load src="/assets/arach-circle.png" />
  </main>
  <Footer />
</Layout>

<script is:inline>
  // Override template/theme from URL params before hydration
  (function () {
    var params = new URLSearchParams(window.location.search);
    var template = params.get("template");
    var theme = params.get("theme");
    if (template) {
      document.documentElement.setAttribute("data-template", template);
      localStorage.setItem("site-template", template);
    }
    if (theme) {
      document.documentElement.setAttribute("data-theme", theme);
      localStorage.setItem("theme", theme);
    } else if (template && !localStorage.getItem("theme")) {
      // Match template-init defaults
      var defaultTheme =
        template === "terminal" || template === "industrial" ? "dark" : "light";
      document.documentElement.setAttribute("data-theme", defaultTheme);
    }
  })();
</script>

<style>
  #main-content.braille-page {
    max-width: 760px;
    margin: 0 !important;
    margin-left: 0 !important;
    margin-right: 0 !important;
    padding: 2rem 1.5rem 2rem 3rem !important;
  }

  :global([data-template="terminal"]) #main-content.braille-page,
  :global([data-template="industrial"]) #main-content.braille-page {
    max-width: 760px !important;
    margin: 0 !important;
    margin-left: 0 !important;
    margin-right: 0 !important;
    padding: 2rem 1.5rem 2rem 3rem !important;
  }

</style>
